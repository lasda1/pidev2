{% extends 'base.html.twig' %}

{% block body %}
<style>
    #map {
        height: 300px;
        width: 100%;
    }
    /* Optional: Makes the sample page fill the window. */


</style>

<link rel="stylesheet"  href="{{ asset('fontawesome-free-5.0.6/web-fonts-with-css/css/fa-solid.css') }}"/>
<link rel="stylesheet"  href="{{ asset('fontawesome-free-5.0.6/web-fonts-with-css/css/fa-brands.css') }}"/>
<link rel="stylesheet"  href="{{ asset('fontawesome-free-5.0.6/web-fonts-with-css/css/fa-brands.min.css') }}"/>
<link rel="stylesheet"  href="{{ asset('fontawesome-free-5.0.6/web-fonts-with-css/css/fa-regular.css') }}"/>

    {% if app.request.hasPreviousSession %}
        {% for type, messages in app.session.flashbag.all() %}
            {% for message in messages %}
                <div  class="alert alert-{{ type }}">
                    <center><strong>{{ message }}</strong></center>
                </div>
            {% endfor %}
        {% endfor %}
    {% endif %}
            {% set i=0 %}
            {% for interaction in interaction %}
                {% if interaction.idobjet.id==objet.id %}
                    {% set i=1 %}
                {% endif %}
            {% endfor %}

<div class="container">
    <div class="row">
        <div class="col-md-8 col-sm-8 col-xs-12 block">
            <div class="panel panel-default">
                <img src="{{ asset( objet.Photo) }}" alt="image" style="blur(5px)"  class="img-responsive">

                <div class="panel-body">
                    <h3 class="color-1">{{ objet.Type|capitalize }}</h3>
                    <p style="width:max-content;  word-wrap: break-word">{{ objet.Description }}</p>
                </div>

            </div>
            {% if objet.User.id==app.user.id %}

            <div class="row">
                <div class="col-md-3">
                    <div class="btnArea">
                        <a href="{{ path("deleteobj", { "id":objet.id }) }}" class="btn btn-primary">Supprimer l'Objet</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="btnArea">
                        <a href="{{ path("updateobj", { "id":objet.id }) }}" class="btn btn-success">Modifier l'Objet</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="btnArea">
                        <a href="{{ path("etat_obj",{"id":objet.id})}}" class="btn btn-success">Etat de l'Objet</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="btnArea">
                        <a href="{{ path("objet_homepage")}}" class="btn btn-success">Voir La liste des Objets</a>
                    </div>
                </div>
            </div>
            {% else  %}
                <div class="row">
                <div class="col-md-3">
                    <div class="btnArea">
                        <a href="{{ path("objet_homepage")}}" class="btn btn-success">Voir La liste des Objets</a>
                    </div>
                </div>

                {% if interaction is defined and interaction is not null%}

                    {% if objet.id==interaction.idobjet.id %}
                        <span style="font-size: 10px">Vous avez fait déjà une réclamation</span>
                    {% else %}
                    <div class="col-md-3">
                    <div class="btnArea">
                        <a href="{{ path("reclamer_obj", { "id":objet.id })}}" class="btn btn-success">{% if objet.nature=='Objet Trouvé' %}C'est Ton Objet?{% else %}Tu as trouvé l'objet?{% endif %}</a>
                    </div>
                    </div>
                    {% endif %}

                {% else %}
                    <div class="col-md-3">
                        <div class="btnArea">
                            <a href="{{ path("reclamer_obj", { "id":objet.id })}}" class="btn btn-success">{% if objet.nature=='Objet Trouvé' %}C'est Ton Objet?{% else %}Tu as trouvé l'objet?{% endif %}</a>
                        </div>
                    </div>
                {% endif %}
                </div>
            {% endif %}




        </div>


        <div class="col-md-4 col-sm-4 col-xs-12">

            <aside>
                <div class="rightSidebar">

                    <div class="panel panel-default">

                        <div class="panel-heading bg-color-1 border-color-1">
                            <h3 class="panel-title">Informations de l'Objet</h3>
                        </div>
                        <div class="panel-body">
                                <ul class="media-list">
                                    <li class="media iconContet">
                                        <div class="media-left iconContent bg-color-4">
                                            <i class="fa fa-anchor" aria-hidden="true"></i>
                                        </div>
                                        <div class="media-body iconContent">
                                            <h4 class="media-heading color-4">Posté Par</h4>
                                            <p>{{ objet.User|upper }}</p>
                                        </div>
                                    </li>
                                    <li class="media iconContet">
                                        <div class="media-left iconContent bg-color-4">
                                            <i class="fa fa-anchor" aria-hidden="true"></i>
                                        </div>
                                        <div class="media-body iconContent">
                                            <h4 class="media-heading color-4">Type</h4>
                                            <p>{{ objet.Type }}</p>
                                        </div>
                                    </li>
                                    <li class="media">
                                        <div class="media-left iconContent bg-color-3">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </div>
                                        <div class="media-body iconContent">
                                            <h4 class="media-heading color-3">Lieu</h4>
                                            <p>{{ objet.Lieu }}</p>
                                        </div>

                                    </li>
                                    <li class="media">
                                        <div class="media-left iconContent bg-color-2">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </div>
                                        <div class="media-body iconContent">
                                            <h4 class="media-heading color-2">Date</h4>
                                            <p>{{ objet.Date |date ('Y-m-d H:i:s') }}</p>
                                        </div>
                                    </li>
                                    <li class="media iconContet">
                                            <div class="media-left iconContent bg-color-4">
                                                <i class="fa fa-anchor" aria-hidden="true"></i>
                                            </div>
                                            <div class="media-body iconContent">
                                                <h4 class="media-heading color-4">Partager Sur</h4>
                                                <p>{{ facebookButton() }}</p>
                                            </div>
                                    </li>
                                </ul>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>


</div>
{% endblock %}






